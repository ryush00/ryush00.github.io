{"meta":{"title":"말똥이의 마구간","subtitle":"말똥이의 IT, 프로그래밍 이야기","description":"말똥이의 IT, 프로그래밍 이야기","author":"말똥이","url":"https://ryush00.github.io"},"pages":[{"title":"따릉이 지도","date":"2018-06-26T10:20:35.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"seoulbikemap/index.html","permalink":"https://ryush00.github.io/seoulbikemap/index.html","excerpt":"","text":"따릉이 지도는 현재 위치 주변의 서울자전거 따릉이 대여소의 위치와 실시간으로 대여 가능한 자전거의 개수를 알려주는 앱입니다. 앱을 왜 만들었나요?기존 앱이 너무 느려서요. 궁금한게 있어요.댓글을 남겨주시면 도움 드리겠습니다. 개인적으로 도움이 필요하신 것이라면 아래 주소로 이메일을 보내주시면 도와드리겠습니다. ryush00@gmail.com 개인정보 취급방침1. 개인정보의 처리 목적따릉이 파인더는 다음의 목적을 위하여 개인정보를 처리하고 있으며, 다음의 목적 이외의 용도로는 이용하지 않습니다. 귀하의 위치 2. 개인정보의 처리 및 보유 기간① 따릉이 파인더는 정보주체로부터 개인정보를 수집할 때 동의 받은 개인정보 보유·이용기간 또는 법령에 따른 개인정보 보유·이용기간 내에서 개인정보를 처리·보유합니다. ② 구체적인 개인정보 처리 및 보유 기간은 다음과 같습니다. 따릉이 파인더는 개인정보를 보유하지 않습니다.3. 정보주체와 법정대리인의 권리·의무 및 그 행사방법 이용자는 개인정보주체로써 다음과 같은 권리를 행사할 수 있습니다.① 정보주체는 따릉이+에 대해 언제든지 다음 각 호의 개인정보 보호 관련 권리를 행사할 수 있습니다. 개인정보 열람요구 오류 등이 있을 경우 정정 요구 삭제요구 처리정지 요구 따릉이+는 원칙적으로 개인정보 처리목적이 달성된 경우에는 지체없이 해당 개인정보를 파기합니다. 파기의 절차, 기한 및 방법은 다음과 같습니다. 파기절차이용자가 입력한 정보는 목적 달성 후 별도의 DB에 옮겨져(종이의 경우 별도의 서류) 내부 방침 및 기타 관련 법령에 따라 일정기간 저장된 후 혹은 즉시 파기됩니다. 이 때, DB로 옮겨진 개인정보는 법률에 의한 경우가 아니고서는 다른 목적으로 이용되지 않습니다. 파기기한이용자의 개인정보는 개인정보의 보유기간이 경과된 경우에는 보유기간의 종료일로부터 5일 이내에, 개인정보의 처리 목적 달성, 해당 서비스의 폐지, 사업의 종료 등 그 개인정보가 불필요하게 되었을 때에는 개인정보의 처리가 불필요한 것으로 인정되는 날로부터 5일 이내에 그 개인정보를 파기합니다."}],"posts":[{"title":"애드센스가 메뉴를 가리는 현상 수정하기","slug":"fixing-overlap-by-adsense","date":"2018-08-15T06:34:13.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"2018/08/15/fixing-overlap-by-adsense/","link":"","permalink":"https://ryush00.github.io/2018/08/15/fixing-overlap-by-adsense/","excerpt":"","text":"블로그 메뉴 위에 마우스를 올려봤는데 하위 메뉴들이 광고에 가리는 현상이 있었어요. z-index를 설정해주면 간단하게 해결할 수 있어요. 필자가 쓰고 있는 hexo hueman 테마의 경우 /블로그/themes/hueman/source/css/_partialnav.styl 파일에서 .main-nav-list-child 아래에 z-index: 1를 넣어주면 해결할 수 있어요. 1 말고도 다른 값을 넣어도 되기는 하는데, 굳이 크게 할 필요가 없을 것 같아서 저렇게 설정했네요.","categories":[],"tags":[]},{"title":"ElasticSearch 내부 네트워크용으로 열기","slug":"how-to-bind-elasticsearch-for-internal-network","date":"2018-08-15T06:09:33.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"2018/08/15/how-to-bind-elasticsearch-for-internal-network/","link":"","permalink":"https://ryush00.github.io/2018/08/15/how-to-bind-elasticsearch-for-internal-network/","excerpt":"","text":"당연하겠지만, ElasticSearch는 내부에서만 접속이 가능해야 해요. 물론 비밀번호 걸고 암호화하고 외부로 열면 쓸 수는 있겠지만 흔하지는 않을거에요. 내부에서만 접속이 가능하게 하기 위해서 bind된 아이피를 바꿔줘야해요. 기본적으로 ElasticSearch는 127.0.0.1로 bind되어 있어요. 외부에서는 접속할 수 없죠. 이 값을 내부 네트워크의 내 아이피로 바꿔줘야 내부에서만 접속이 가능하게 될거예요. /etc/elasticsearch/elasticsearch.yml 파일을 열어서 아래와 같은 줄들을 찾아서 network.host의 주석을 지우고 내부 아이피를 적어요. (http.port를 변경하면 포트를 변경할 수 있어요.) 1234567891011# ---------------------------------- Network -----------------------------------## Set the bind address to a specific IP (IPv4 or IPv6):#network.host: 10.140.0.5## Set a custom port for HTTP:##http.port: 9200## For more information, consult the network module documentation. 그리고 elasticsearch를 재시작하고 상태를 확인해요. 12345678910111213141516root@elasticsearch:/etc/elasticsearch# service elasticsearch restartroot@elasticsearch:/etc/elasticsearch# service elasticsearch status● elasticsearch.service - Elasticsearch Loaded: loaded (/usr/lib/systemd/system/elasticsearch.service; disabled; vendor preset: enabled) Active: active (running) since Wed 2018-08-15 06:15:21 UTC; 1s ago Docs: http://www.elastic.co Process: 9304 ExecStartPre=/usr/share/elasticsearch/bin/elasticsearch-systemd-pre-exec (code=exited, status=0/SUCCESS) Main PID: 1234 (java) Tasks: 13 (limit: 1997) CGroup: /system.slice/elasticsearch.service └─1234 /usr/bin/java -Xms1g -Xmx1g -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:+AlwaysPreTouch -server -Xss1m -DjAug 15 06:15:21 elasticsearch systemd[1]: Stopped Elasticsearch.Aug 15 06:15:21 elasticsearch systemd[1]: Starting Elasticsearch...Aug 15 06:15:21 elasticsearch systemd[1]: Started Elasticsearch.lines 1-13/13 (END) 그리고 내부 네트워크의 다른 서버에서 잘 접속이 되는지 확인하면 끝. 1234567891011121314ryush00@dev:~$ curl 10.140.0.5:9200&#123; \"name\" : \"MDH-kxl\", \"cluster_name\" : \"elasticsearch\", \"cluster_uuid\" : \"********************\", \"version\" : &#123; \"number\" : \"5.6.10\", \"build_hash\" : \"b727a60\", \"build_date\" : \"2018-06-06T15:48:34.860Z\", \"build_snapshot\" : false, \"lucene_version\" : \"6.6.1\" &#125;, \"tagline\" : \"You Know, for Search\"&#125;","categories":[],"tags":[]},{"title":"ElasticSearch 5.x 메모리 크기 변경","slug":"change-memory-on-elasticsearch-5-x","date":"2018-08-15T05:57:28.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"2018/08/15/change-memory-on-elasticsearch-5-x/","link":"","permalink":"https://ryush00.github.io/2018/08/15/change-memory-on-elasticsearch-5-x/","excerpt":"","text":"필자는 ElasticSearch를 사용하려고 준비중이에요. 그렇다고 너무 큰 인스턴스를 사용하기에는 낭비라는 생각이 들어 g1 인스턴스에 설치를 하고 있어요. 기본적으로 ElasticSearch는 -Xms2G -Xmx2G로 돌아가요. 기본 할당 메모리가 무려 2GB나 되어요. 그러니 1.7GB밖에 없는 g1 인스턴스에서 실행시키니 오류가 나는건 당연하죠. 인터넷에서는 /etc/elasticsearch/elasticsearch.yml 파일이나 systemd의 /etc/default/elasticsearch 파일 같은걸 수정하라고 적혀있던데, 여기에 낚이면 안돼요. 우리가 수정해야 될 파일은 /etc/elasticsearch/jvm.options예요. 12345# Xms represents the initial size of total heap space# Xmx represents the maximum size of total heap space-Xms2g-Xmx2g 위 코드를 찾아 12345# Xms represents the initial size of total heap space# Xmx represents the maximum size of total heap space-Xms1g-Xmx1g 위 코드처럼 1g로 바꾼 후 sudo -i service elasticsearch start, sudo -i service elasticsearch status로 확인해 보면 정상적으로 실행되어 있는 것을 확인할 수 있어요. 1234567891011121314ryush00@elasticsearch:~$ sudo -i service elasticsearch status● elasticsearch.service - Elasticsearch Loaded: loaded (/usr/lib/systemd/system/elasticsearch.service; disabled; vendor preset: enabled) Active: active (running) since Wed 2018-08-15 05:43:06 UTC; 8min ago Docs: http://www.elastic.co Process: 9232 ExecStartPre=/usr/share/elasticsearch/bin/elasticsearch-systemd-pre-exec (code=exited, status=0/SUCCESS) Main PID: 9240 (java) Tasks: 31 (limit: 1997) CGroup: /system.slice/elasticsearch.service └─9240 /usr/bin/java -Xms1g -Xmx1g -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:+AlwaysPreTouch -server -Xss1m -DjAug 15 05:43:06 elasticsearch systemd[1]: Starting Elasticsearch...Aug 15 05:43:06 elasticsearch systemd[1]: Started Elasticsearch.lines 1-12/12 (END) curl 127.0.0.1:9200 명령어를 통해 서버 상태를 확인해보면 정상적으로 ElasticSearch 서버가 켜져 있는걸 확인할 수 있어요. 1234567891011121314ryush00@elasticsearch:~$ curl 127.0.0.1:9200&#123; \"name\" : \"MmH-kul\", \"cluster_name\" : \"elasticsearch\", \"cluster_uuid\" : \"*********************\", \"version\" : &#123; \"number\" : \"5.6.10\", \"build_hash\" : \"b727a60\", \"build_date\" : \"2018-06-06T15:48:34.860Z\", \"build_snapshot\" : false, \"lucene_version\" : \"6.6.1\" &#125;, \"tagline\" : \"You Know, for Search\"&#125;","categories":[{"name":"Programming","slug":"Programming","permalink":"https://ryush00.github.io/categories/Programming/"}],"tags":[{"name":"ElasticSearch","slug":"ElasticSearch","permalink":"https://ryush00.github.io/tags/ElasticSearch/"}]},{"title":"viewWillTransition에서 화면 회전 후의 CGRect 얻기","slug":"get-cgrect-after-screen-rotate-at-viewwillviewtransition","date":"2018-07-30T11:53:09.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"2018/07/30/get-cgrect-after-screen-rotate-at-viewwillviewtransition/","link":"","permalink":"https://ryush00.github.io/2018/07/30/get-cgrect-after-screen-rotate-at-viewwillviewtransition/","excerpt":"","text":"viewWillTransition에서 화면 회전시 view.bounds로 CGRect를 얻어오게 되면 화면이 회전되기 이전의 CGRect가 리턴돼요. 이 사이즈를 다른 view에 적용시키게 되면 항상 view가 짤려보일수 밖에 없어요. 아마 viewDidTransitio(추측)같은게 있을지도 모르지만, 일단 해결 방법은 아래와 같아요. 12345override func viewWillTransition(to size: CGSize, with coordinator: UIViewControllerTransitionCoordinator) &#123; super.viewWillTransition(to: size, with: coordinator) let rect = CGRect(origin: CGPoint(x: 0, y: 0), size: size) videoPreviewLayer?.frame = rect&#125;","categories":[{"name":"Programming","slug":"Programming","permalink":"https://ryush00.github.io/categories/Programming/"},{"name":"iOS","slug":"Programming/iOS","permalink":"https://ryush00.github.io/categories/Programming/iOS/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://ryush00.github.io/tags/iOS/"},{"name":"Swift","slug":"Swift","permalink":"https://ryush00.github.io/tags/Swift/"}]},{"title":"아이폰 재난문자의 문제점과 민원 뺑뺑이","slug":"korea-iphone-cbs-problem","date":"2018-07-17T12:23:55.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"2018/07/17/korea-iphone-cbs-problem/","link":"","permalink":"https://ryush00.github.io/2018/07/17/korea-iphone-cbs-problem/","excerpt":"","text":"CBS(Cell Broadcasting Service)는 기지국에 전송된 모든 휴대전화로 메시지를 보낼 수 있는 기능이에요. 주로 재난문자와 같이 긴급한 정보를 전송할 때 사용되어요. 전국민 대상으로 보내야 하는 촌각을 다투는 긴급한 메시지가 있는데, 이걸 문자메시지로 보내게 되면 엄청나게 느리게 보내져요. 재난이 발생하면 사람들은 서로의 안부를 확인하기 위해 전화나 문자메시지 (그리고 요즘은 카카오톡)를 사용하죠. 당연히 통신망은 과부하가 걸리게 될탠데, 이 때 전국민 대상으로 문자메시지를 하나하나 보낸다는 것은 상식적으로 불가능해요. 그래서 CBS 기술을 사용하는거죠. CBS는 휴대폰별로 전송하는게 아니라 각 기지국별로 전송하고, 그 기지국에서 재난문자를 기지국에 연결된 모든 휴대전화에게 재난문자를 보내요. 경주 지진이 일어나기 전까지는 재난 문자는 거의 있으나 마나한 존재였어요. 3G 휴대전화들조차 재난문자를 지원하지 않았어요. 그러다 경주 지진과 포항 지진이 일어나게 되면서 많은 변화와 개선이 생겼죠. 촌각을 다투는 정보가 아닌 미세먼지 정보나 폭염경보, 기념일 안내까지 빼액 빼액 울어대는 긴급재난문자로 오게 되자 사람들은 긴급재난문자를 끄는 방법을 찾기 시작했죠. 결국 행정안전부가 대책을 마련했어요. 지금까지는 “긴급재난문자”로만 왔던 재난정보를 세가지로 나눠서 전송하기로 했어요. 급하지 않은 안전정보는 안전안내문자로, 급한 재난정보는 긴급재난문자로, 전쟁 상황일 경우 위급재난문자로 나눠서 보내지게 되었죠. 그리고 급하지 않은 안전안내문자는 일반 문자처럼 전송되게 가이드라인을 마련했어요. 안드로이드가 적용된 LG, 삼성등의 스마트폰에서는 이 가이드라인를 금방 적용시켰지만, 애플은 2018년 7월 현재까지 긴급재난문자 하나로만 재난문자를 띄우고 있어요. 미세먼지가 많아도 시끄러운 재난문자 소리가 울리고, 비가 많이 올것 같아도 재난문자 소리가 울리고, 폭염 경보조차 재난문자가 울리고… 애플에 피드백을 해보기도 하고 행정안전부에 민원을 넣어보기도 했지만 헛수고였어요. 행정안전부는 재난문자방송협의회에서 애플측에 이 내용을 전달한다고 밝혔지만, 아직까지 달라진 것 하나 없더군요. 다시 민원을 넣자 과기부로 넘어가더니 소비자원으로 민원이 이송되었어요. 소비자원에서는 당연히 애플사에 공문 하나 보내는게 끝이죠. 이런 문제는 도대체 어느 기관에 문의해봐야 하는건지 의구심이 들어요. 그 어느 행정기관에서도 문제를 해결할 의지가 없어보여요. 그래도 행정기관인데 대체 왜 아무것도 하지 못하는걸까요. 답이 없어요.","categories":[{"name":"Tech","slug":"Tech","permalink":"https://ryush00.github.io/categories/Tech/"}],"tags":[{"name":"Apple","slug":"Apple","permalink":"https://ryush00.github.io/tags/Apple/"},{"name":"iPhone","slug":"iPhone","permalink":"https://ryush00.github.io/tags/iPhone/"},{"name":"CBS","slug":"CBS","permalink":"https://ryush00.github.io/tags/CBS/"}]},{"title":"Xcode에서 앱 기본 언어 한국어로 바꾸기","slug":"xcode-chagne-base-language","date":"2018-06-29T14:46:00.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"2018/06/29/xcode-chagne-base-language/","link":"","permalink":"https://ryush00.github.io/2018/06/29/xcode-chagne-base-language/","excerpt":"","text":"맥은 한국어지만 Xcode는 영어로 뜨고, Xcode에서 만들어진 앱들은 기본 언어가 한국어가 아닌 영어가 되어버려요. 작동은 되지만 나중에 I18n을 고려하게 되면 약간 설정이 꼬이는 문제가 발생해요. 해결 방법해결 방법은 간단..하지 않아요. 약간 복잡해요. (StackOverflow를 참고했어요) Xcode project에서 한국어를 추가하기. Info.plist에서 Localization native development region을 Korean으로 바꾸기. Xcode를 닫고, 다른 에디터를 이용해서 프로젝트이름.xcodeproj/project.pbxproj 파일을 열고 developmentRegion를 검색하여 developmentRegion = ko;로 바꾸기.","categories":[{"name":"Programming","slug":"Programming","permalink":"https://ryush00.github.io/categories/Programming/"},{"name":"Swift","slug":"Programming/Swift","permalink":"https://ryush00.github.io/categories/Programming/Swift/"}],"tags":[{"name":"Xcode","slug":"Xcode","permalink":"https://ryush00.github.io/tags/Xcode/"}]},{"title":"앱스토어 개발자 계정을 등록하다","slug":"appstore-devloper-approved","date":"2018-06-26T09:17:43.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"2018/06/26/appstore-devloper-approved/","link":"","permalink":"https://ryush00.github.io/2018/06/26/appstore-devloper-approved/","excerpt":"","text":"필자는 안드로이드 개발자 계정은 가지고 있지만, 애플 개발자 계정은 없었어요. 안드로이드 개발자 계정은 한번 10만원 정도의 돈을 투자하면 기간 제한 없이 계속 앱을 등록할 수 있지만, 애플 개발자 게정은 1년마다 10만원을 내야하거든요. 아직까지는 이런저런 이유로 미루고 있다가 드디어 앱스토어 개발자 계정을 구매했어요. 구매 후 구매 승인 메일은 바로 왔는데, 최종 승인 메일이 오지 않았어요. 이미 24시간도 지났겠다, 애플 개발자 고객센터에서 전화 요청을 넣었어요. 거의 바로 약간 해외계 한국인 느낌이 드는 분께 전화가 왔어요. 이름과 이메일을 확인하더니 결제 정보가 달라서 진행이 멈춘거라고 알려주시고, 바로 바이패스 처리 해주시더군요. 48시간까지 걸릴 수 있다는 말만 믿고 안 기다리길 잘한 것 같아요. 눈 깜짝한 사이에 바로 활성화가 완료되었어요. 이제 앱 업로드만 하면 되겠어요.","categories":[{"name":"Programming","slug":"Programming","permalink":"https://ryush00.github.io/categories/Programming/"},{"name":"iOS","slug":"Programming/iOS","permalink":"https://ryush00.github.io/categories/Programming/iOS/"}],"tags":[{"name":"App Store","slug":"App-Store","permalink":"https://ryush00.github.io/tags/App-Store/"},{"name":"iOS","slug":"iOS","permalink":"https://ryush00.github.io/tags/iOS/"},{"name":"Apple","slug":"Apple","permalink":"https://ryush00.github.io/tags/Apple/"}]},{"title":"Git 이메일, 이름 설정하기","slug":"git-default-setting","date":"2018-06-25T15:27:42.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"2018/06/25/git-default-setting/","link":"","permalink":"https://ryush00.github.io/2018/06/25/git-default-setting/","excerpt":"","text":"Git를 쓰기 전 꼭 해야 하는 기본 설정이 있어요. 이메일과 이름을 설정하는 거예요. 제대로 설정하지 않으면 이상한 기본값이 들어가서 Commit 기록이 더러워지니 꼭 설정하도록 하죠. 12$ git config --global user.name \"이름\"$ git config --global user.email \"email@example.org\"","categories":[{"name":"Programming","slug":"Programming","permalink":"https://ryush00.github.io/categories/Programming/"}],"tags":[{"name":"git","slug":"git","permalink":"https://ryush00.github.io/tags/git/"}]},{"title":"애드센스 자동 광고 블로그에 달기","slug":"installing-adsense-auto-ads","date":"2018-06-25T14:21:07.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"2018/06/25/installing-adsense-auto-ads/","link":"","permalink":"https://ryush00.github.io/2018/06/25/installing-adsense-auto-ads/","excerpt":"","text":"Github Pages에서 돌아가는 블로그에도 애드센스 광고를 달 수가 있어요. 티스토리하고 다를게 없어요. 새로 설정하는 겸, 최근에 새로 생긴 애드센스 자동 광고 기능을 사용해보기로 했어요. 이름 그대로 머신러닝을 통해서 자동으로 글 사이에 알아서 광고를 끼워주는 광고예요. 제가 설정해야 하는 부분은 그냥 자동 광고 소스를 넣는 것 뿐이에요. 나머지는 구글이 알아서 할태니까요. 제대로 작동할지 궁금하네요.","categories":[{"name":"Blog","slug":"Blog","permalink":"https://ryush00.github.io/categories/Blog/"}],"tags":[{"name":"adsense","slug":"adsense","permalink":"https://ryush00.github.io/tags/adsense/"}]},{"title":"Hello Hexo!","slug":"hello-hexo","date":"2018-06-25T14:20:54.000Z","updated":"2019-09-14T19:33:43.595Z","comments":true,"path":"2018/06/25/hello-hexo/","link":"","permalink":"https://ryush00.github.io/2018/06/25/hello-hexo/","excerpt":"","text":"티스토리는 HTML을 수정할 수 있다는 장점이 있었지만, 너무 버그도 많고 무거워요. 댓글 쓸 때 작성 버튼을 여러번 누르면 댓글이 여러개 달리는 버그까지 있죠. (현재도 존재해요.) 게다가 에디터도 직관적이지 않아요. Medium 정도는 되어야 할 탠데 너무 조잡하고 부족한 점이 많은 느낌이에요. 심지어 네이버 스마트 에디터가 더 좋아보이는 이상한 일도 있더라고요. 제일 불편하다고 생각되는 점은 티스토리는 마크다운을 지원하지 않는다는 거예요. 버전 관리도 제대로 안되어요. 반면 Github Pages는 Github에 올리는 방식인지라 Git의 방식 그대로 버전 관리가 가능하죠! 그래서 이사를 가고 있어요. 사실 이사라기보다는 제대로 된 글들만 추려내서 옮기는 작업일지도 모르지만요. ㅋㅋ 아마 앞으로 해야할 일들을 정리해 보자면 블로그 기타 설정 하기 (로고, 파비콘, 폰트, 에널리틱스, 검색 등록 등등) Github Pages 커스텀 도메인 적용할지 생각하기 커스텀 도메인을 사용한다면 SSL 적용 관련해서 알아보기 Travis CI와 연동해서 Git push만으로 자동 배포하기 정도가 되겠군요.","categories":[{"name":"Blog","slug":"Blog","permalink":"https://ryush00.github.io/categories/Blog/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://ryush00.github.io/tags/hexo/"}]}]}